{
    "name": "kind",
    "image": "mcr.microsoft.com/devcontainers/base:ubuntu",
    "hostRequirements": {
        "cpus": 4,
        "memory": "16gb",
        "storage": "32gb"
    },
    "remoteEnv": {
        "FUNC_REGISTRY": "localhost:5001",
        "KO_DOCKER_REPO": "localhost:5001"
    },
    "features": {
        "ghcr.io/devcontainers/features/docker-in-docker:2": {
            "version": "latest",
            // "enableNonRootDocker": "true",
            "moby": "false"
        },
        "ghcr.io/devcontainers/features/go:1": {},
        "ghcr.io/devcontainers/features/node:1": {},
        "ghcr.io/joebowbeer/devcontainers-features/arkade-get:1": {
            // "argocd": "latest",
            // "crossplane": "latest",
            "helm": "latest",
            "k9s": "latest",
            "kind": "latest",
            "kubectl": "v1.35.0",
            // "kustomize": "v5.7.1"
            "pack": "latest"
            // "vcluster": "latest"
        },
        "ghcr.io/robbert229/devcontainer-features/ko:1": {
            "version": "0.18.1"
        }
        // "ghcr.io/devcontainers/features/kubectl-helm-minikube:1": {
        //     "version": "1.33",
        //     "helm": "latest",
        //     "minikube": "none"
        // },
        // "ghcr.io/devcontainers-extra/features/kind:1": {
        //     "version": "latest"
        // },
        // "ghcr.io/jsburckhardt/devcontainer-features/ruff:1": {},
        // "ghcr.io/rio/features/k9s:1": {},
        // "ghcr.io/rio/features/kustomize:1": {},
        // "ghcr.io/rio/features/vcluster:1": {},
        // "ghcr.io/va-h/devcontainers-features/uv:1": {}
    },
    "customizations": {
        "vscode": {
            "extensions": [
                "ms-vscode.go",
                "ms-vscode.makefile-tools"
                // "charliermarsh.ruff",
                // "kevinrose.vsc-python-indent",
                // "ms-python.python",
                // "teticio.python-envy"
            ]
        }
    },
    "forwardPorts": [8080, 9070],
    "postCreateCommand": "bash scripts/devtools_provision.sh",
    "postStartCommand": "nohup bash -c 'kubectl port-forward -n restate svc/restate 9070:9070 8080:8080' &"
}
